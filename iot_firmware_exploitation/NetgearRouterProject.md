# Goal
I pulled the firmware for the Pro gaming router (version XR700-V1.0.1.50) and want to get its webpage running. I binwalked it, and noticed that it is running on a arm32 (little endian) linux box which makes things slightly easier. I then began walking through the extracted file system.

## Where to look first
One of the first places to go to is the `inittab` file that exsists in the `/etc` directory since this is run by the system on boot and often kicks off a whole bunch of other processes. I saw that `inittab` called `/etc/init.d/rcS S boot` so I went to that file next and saw what the 2 args it passed to it did. In there, I saw that it went to `/etc/rc.d/ and ran any file than began with the first arg (S). Note: attempting to run inittab just threw hella errors since I didn't have any of the hardware devices that it was expecting when creating partitions, mappings, and so on.

There is a massive amount that can be learned here, such as how things are configured from certs, bus, net, usb, cron, watchdogs, and what I cared about, uhttpd. So I then looked into `etc/rc.d/S96uhttpd` (which is a shell script) and saw that it can be run with `start`, `stop`, or `stop_instance`. Running it with start runs the following `/www/cgi-bin/uhttpd.sh start` which is getting closer to what we actually want. I then looked at the script and saw that it was running the executable `/usr/sbin/uhttpd` with a shitton of args and figured I was in a good enough place to attempt to start it.

## Running UHTTPD

```                                                                                                         
┌──(kali㉿kali)-[~/…/squashfs-root/www/cgi-bin/test]
└─$ gcc main.c -o main -L./ target.so -Wl,-rpath=./ 
                                                                                                                    
┌──(kali㉿kali)-[~/…/squashfs-root/www/cgi-bin/test]
└─$ ./main 
In main
This is the original target function.
                                                                                                                    
┌──(kali㉿kali)-[~/…/squashfs-root/www/cgi-bin/test]
└─$ ldd main
        linux-vdso.so.1 (0x00007fff259f9000)
        target.so => ./target.so (0x00007f9be3b06000)
        libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f9be390e000)
        /lib64/ld-linux-x86-64.so.2 (0x00007f9be3b12000)
                                                                                                                    
┌──(kali㉿kali)-[~/…/squashfs-root/www/cgi-bin/test]
└─$ gcc main.c -o main -L./ target.so              
                                                                                                                    
┌──(kali㉿kali)-[~/…/squashfs-root/www/cgi-bin/test]
└─$ ldd main
        linux-vdso.so.1 (0x00007ffebe5d6000)
        target.so => not found
        libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f216dc8e000)
        /lib64/ld-linux-x86-64.so.2 (0x00007f216de8d000)

```
